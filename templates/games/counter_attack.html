{% extends 'base.html' %}
{% load static %}

{% block title %}Pirogrammer Card Game{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/games/counter_attack.css' %}">

<div class="game-container">
    <h1>반격하기</h1>
    <h2>반격할 수 있는 카드</h2>
    <h2>나를 공격한 상대</h2>
    {{ game.player1.username }} 
    <form method="post">
        {% csrf_token %}
        <div class="card-container">
            {% for num in random_numbers %}
                <div class="card" onclick="selectCard(this, '{{ num }}')">{{ num }}</div>
            {% endfor %}
        </div>
        <input type="hidden" name="player2_card" id="player2_card">  
        <button type="submit">CounterAttack!</button>
    </form>
</div>

<script>
function selectCard(element, value) {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => card.classList.remove('selected'));
    element.classList.add('selected');
    document.getElementById('player2_card').value = value;
}
</script>
{% endblock %}